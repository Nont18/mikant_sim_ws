<?xml version="1.0" ?>
<robot name="mikant" xmlns:xacro="http://www.ros.org/wiki/xacro">

<xacro:include filename="$(find mikant_description)/urdf/materials.xacro" />
<xacro:include filename="$(find mikant_description)/urdf/mikant.trans" />
<xacro:include filename="$(find mikant_description)/urdf/mikant.gazebo" />
<link name="base_link">
  <inertial>
    <origin xyz="0.4801025970624333 1.72740259340396e-08 0.10818569434527937" rpy="0 0 0"/>
    <mass value="18.699840108992277"/>
    <inertia ixx="2.249717" iyy="1.199323" izz="3.24055" ixy="0.0" iyz="0.0" ixz="-0.004043"/>
  </inertial>
  <visual>
    <origin xyz="0 0 0" rpy="0 0 0"/>
    <geometry>
      <mesh filename="file://$(find mikant_description)/meshes/base_link.stl" scale="0.001 0.001 0.001"/>
    </geometry>
    <material name="silver"/>
  </visual>
  <collision>
    <origin xyz="0 0 0" rpy="0 0 0"/>
    <geometry>
      <mesh filename="file://$(find mikant_description)/meshes/base_link.stl" scale="0.001 0.001 0.001"/>
    </geometry>
  </collision>
</link>

<link name="wingsail_1">
  <inertial>
    <origin xyz="-0.03888456386921996 -3.842744870047833e-09 0.9289866955696633" rpy="0 0 0"/>
    <mass value="2.6756031588946767"/>
    <inertia ixx="0.569143" iyy="0.77777" izz="0.209737" ixy="-0.0" iyz="-0.0" ixz="0.041393"/>
  </inertial>
  <visual>
    <origin xyz="-0.5 0.0 -0.268" rpy="0 0 0"/>
    <geometry>
      <mesh filename="file://$(find mikant_description)/meshes/wingsail_1.stl" scale="0.001 0.001 0.001"/>
    </geometry>
    <material name="silver"/>
  </visual>
  <collision>
    <origin xyz="-0.5 0.0 -0.268" rpy="0 0 0"/>
    <geometry>
      <mesh filename="file://$(find mikant_description)/meshes/wingsail_1.stl" scale="0.001 0.001 0.001"/>
    </geometry>
  </collision>
</link>

<link name="rudder_1">
  <inertial>
    <origin xyz="-0.0038189411596242055 1.5860591750424096e-07 -0.10188560782233358" rpy="0 0 0"/>
    <mass value="0.04761681769473878"/>
    <inertia ixx="0.000232" iyy="0.000235" izz="4e-06" ixy="-0.0" iyz="0.0" ixz="-1e-05"/>
  </inertial>
  <visual>
    <origin xyz="-0.0181 0.0 -0.1469" rpy="0 0 0"/>
    <geometry>
      <mesh filename="file://$(find mikant_description)/meshes/rudder_1.stl" scale="0.001 0.001 0.001"/>
    </geometry>
    <material name="silver"/>
  </visual>
  <collision>
    <origin xyz="-0.0181 0.0 -0.1469" rpy="0 0 0"/>
    <geometry>
      <mesh filename="file://$(find mikant_description)/meshes/rudder_1.stl" scale="0.001 0.001 0.001"/>
    </geometry>
  </collision>
</link>

<link name="tail_1">
  <inertial>
    <origin xyz="-0.052965953278093614 -2.1573027652953112e-16 -0.31499999999999995" rpy="0 0 0"/>
    <mass value="0.06165736320097964"/>
    <inertia ixx="0.002041" iyy="0.002093" izz="5.6e-05" ixy="-0.0" iyz="-0.0" ixz="0.0"/>
  </inertial>
  <visual>
    <origin xyz="0.4 -0.0 -1.683" rpy="0 0 0"/>
    <geometry>
      <mesh filename="file://$(find mikant_description)/meshes/tail_1.stl" scale="0.001 0.001 0.001"/>
    </geometry>
    <material name="silver"/>
  </visual>
  <collision>
    <origin xyz="0.4 -0.0 -1.683" rpy="0 0 0"/>
    <geometry>
      <mesh filename="file://$(find mikant_description)/meshes/tail_1.stl" scale="0.001 0.001 0.001"/>
    </geometry>
  </collision>
</link>

<link name="left_propeller_1">
  <inertial>
    <origin xyz="-0.012700985794268038 -1.219700979104843e-08 -1.7478167808893108e-08" rpy="0 0 0"/>
    <mass value="0.00998428820561576"/>
    <inertia ixx="4e-06" iyy="3e-06" izz="3e-06" ixy="-0.0" iyz="0.0" ixz="-0.0"/>
  </inertial>
  <visual>
    <origin xyz="-0.293996 -0.35 0.052" rpy="0 0 0"/>
    <geometry>
      <mesh filename="file://$(find mikant_description)/meshes/left_propeller_1.stl" scale="0.001 0.001 0.001"/>
    </geometry>
    <material name="silver"/>
  </visual>
  <collision>
    <origin xyz="-0.293996 -0.35 0.052" rpy="0 0 0"/>
    <geometry>
      <mesh filename="file://$(find mikant_description)/meshes/left_propeller_1.stl" scale="0.001 0.001 0.001"/>
    </geometry>
  </collision>
</link>

<link name="right_propeller_1">
  <inertial>
    <origin xyz="-0.012700985794267539 -1.697251239551889e-07 1.7478171965290556e-08" rpy="0 0 0"/>
    <mass value="0.009984288205615921"/>
    <inertia ixx="4e-06" iyy="3e-06" izz="3e-06" ixy="-0.0" iyz="-0.0" ixz="0.0"/>
  </inertial>
  <visual>
    <origin xyz="-0.293996 0.35 0.052" rpy="0 0 0"/>
    <geometry>
      <mesh filename="file://$(find mikant_description)/meshes/right_propeller_1.stl" scale="0.001 0.001 0.001"/>
    </geometry>
    <material name="silver"/>
  </visual>
  <collision>
    <origin xyz="-0.293996 0.35 0.052" rpy="0 0 0"/>
    <geometry>
      <mesh filename="file://$(find mikant_description)/meshes/right_propeller_1.stl" scale="0.001 0.001 0.001"/>
    </geometry>
  </collision>
</link>

<joint name="wingsail_joint" type="continuous">
  <origin xyz="0.5 0.0 0.268" rpy="0 0 0"/>
  <parent link="base_link"/>
  <child link="wingsail_1"/>
  <axis xyz="0.0 -0.0 1.0"/>
</joint>

<joint name="rudder_joint" type="continuous">
  <origin xyz="0.0181 0.0 0.1469" rpy="0 0 0"/>
  <parent link="base_link"/>
  <child link="rudder_1"/>
  <axis xyz="0.0 0.0 1.0"/>
</joint>

<joint name="tail_joint" type="continuous">
  <origin xyz="-0.9 0.0 1.415" rpy="0 0 0"/>
  <parent link="wingsail_1"/>
  <child link="tail_1"/>
  <axis xyz="0.0 0.0 1.0"/>
</joint>

<joint name="left_propeller_joint" type="continuous">
  <origin xyz="0.293996 0.35 -0.052" rpy="0 0 0"/>
  <parent link="base_link"/>
  <child link="left_propeller_1"/>
  <axis xyz="1.0 0.0 0.0"/>
</joint>

<joint name="right_propeller_joint" type="continuous">
  <origin xyz="0.293996 -0.35 -0.052" rpy="0 0 0"/>
  <parent link="base_link"/>
  <child link="right_propeller_1"/>
  <axis xyz="1.0 0.0 0.0"/>
</joint>

<gazebo>
  <plugin name="buoyancy_force_plugin" filename="libbuoyancy_force_plugin.so">
    <fluid_density>998</fluid_density>
    <fluid_level>40.0</fluid_level>
    <linear_drag>1</linear_drag>
    <link_volume>0.042556812</link_volume>
    <link_name>base_link</link_name>
  </plugin>

  <plugin name="lift_drag_force_plugin" filename="liblift_drag_force_plugin.so">
    <link_name>wingsail_1</link_name>
    <sub_world_topic>true_wind</sub_world_topic>
  </plugin>

</gazebo>


</robot>
